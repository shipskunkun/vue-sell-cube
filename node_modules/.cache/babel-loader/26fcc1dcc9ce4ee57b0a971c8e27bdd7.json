{"remainingRequest":"/Users/leeco/Documents/vue-sell-cube/node_modules/thread-loader/dist/cjs.js!/Users/leeco/Documents/vue-sell-cube/node_modules/babel-loader/lib/index.js??ref--16-2!/Users/leeco/Documents/vue-sell-cube/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/leeco/Documents/vue-sell-cube/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/leeco/Documents/vue-sell-cube/node_modules/cube-ui/src/components/select/select.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/cube-ui/src/components/select/select.vue","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/Users/leeco/Documents/vue-sell-cube/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\n//\n//\n//\n//\n//\n//\n//\n//\nimport { findIndex } from '../../common/helpers/util';\nimport localeMixin from '../../common/mixins/locale';\nvar COMPONENT_NAME = 'cube-select';\nvar EVENT_CHANGE = 'change';\nvar EVENT_INPUT = 'input'; // only used for v-model\n\nvar EVENT_PICKER_SHOW = 'picker-show';\nvar EVENT_PICKER_HIDE = 'picker-hide';\nexport default {\n  name: COMPONENT_NAME,\n  mixins: [localeMixin],\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  props: {\n    options: {\n      type: Array,\n      default: function _default() {\n        /* istanbul ignore next */\n        return [];\n      }\n    },\n    value: null,\n    placeholder: {\n      type: String,\n      default: ''\n    },\n    autoPop: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    cancelTxt: {\n      type: String,\n      default: ''\n    },\n    confirmTxt: {\n      type: String,\n      default: ''\n    }\n  },\n  computed: {\n    adaptOptions: function adaptOptions() {\n      return [this.options.map(function (item) {\n        if (_typeof(item) !== 'object') {\n          item = {\n            value: item,\n            text: item\n          };\n        }\n\n        return item;\n      })];\n    },\n    valueIndex: function valueIndex() {\n      var val = this.value;\n      var index = findIndex(this.adaptOptions[0], function (item) {\n        return item.value === val;\n      });\n      this.picker && this.picker.setData(this.adaptOptions, index !== -1 ? [index] : [0]);\n      return index;\n    },\n    selectedIndex: function selectedIndex() {\n      return this.valueIndex !== -1 ? [this.valueIndex] : [0];\n    },\n    selectedText: function selectedText() {\n      return this.valueIndex !== -1 ? this.adaptOptions[0][this.valueIndex].text : '';\n    },\n    _placeholder: function _placeholder() {\n      return this.placeholder || this.$t('selectText');\n    },\n    _title: function _title() {\n      return this.title || this.$t('selectText');\n    },\n    _cancelTxt: function _cancelTxt() {\n      return this.cancelTxt || this.$t('cancel');\n    },\n    _confirmTxt: function _confirmTxt() {\n      return this.confirmTxt || this.$t('ok');\n    }\n  },\n  created: function created() {\n    this.picker = this.$createPicker({\n      $props: {\n        title: '_title',\n        data: 'adaptOptions',\n        selectedIndex: 'selectedIndex',\n        cancelTxt: '_cancelTxt',\n        confirmTxt: '_confirmTxt'\n      },\n      $events: {\n        select: 'selectHandler',\n        cancel: this.hided\n      }\n    });\n    this.autoPop && this.showPicker();\n  },\n  methods: {\n    showPicker: function showPicker() {\n      if (this.disabled) {\n        return;\n      }\n\n      this.picker.show();\n      this.active = true;\n      this.$emit(EVENT_PICKER_SHOW);\n    },\n    hided: function hided() {\n      this.active = false;\n      this.$emit(EVENT_PICKER_HIDE);\n    },\n    selectHandler: function selectHandler(selectedVal, selectedIndex, selectedText) {\n      this.hided();\n\n      if (selectedVal[0] !== this.value) {\n        this.$emit(EVENT_INPUT, selectedVal[0]);\n        this.$emit(EVENT_CHANGE, selectedVal[0], selectedIndex[0], selectedText[0]);\n      }\n    }\n  }\n};",{"version":3,"sources":["select.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"cube-select\" :class=\"{ 'cube-select_active': active, 'cube-select_disabled': disabled }\" @click=\"showPicker\">\n    <span v-if=\"selectedText\" class=\"cube-select-text\">{{ selectedText }}</span>\n    <span v-else class=\"cube-select-placeholder\">{{ _placeholder }}</span>\n    <i class=\"cube-select-icon\"></i>\n  </div>\n</template>\n\n<script>\n  import { findIndex } from '../../common/helpers/util'\n  import localeMixin from '../../common/mixins/locale'\n\n  const COMPONENT_NAME = 'cube-select'\n\n  const EVENT_CHANGE = 'change'\n  const EVENT_INPUT = 'input' // only used for v-model\n  const EVENT_PICKER_SHOW = 'picker-show'\n  const EVENT_PICKER_HIDE = 'picker-hide'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [ localeMixin ],\n    data() {\n      return {\n        active: false\n      }\n    },\n    props: {\n      options: {\n        type: Array,\n        default() {\n          /* istanbul ignore next */\n          return []\n        }\n      },\n      value: null,\n      placeholder: {\n        type: String,\n        default: ''\n      },\n      autoPop: {\n        type: Boolean,\n        default: false\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      title: {\n        type: String,\n        default: ''\n      },\n      cancelTxt: {\n        type: String,\n        default: ''\n      },\n      confirmTxt: {\n        type: String,\n        default: ''\n      }\n    },\n    computed: {\n      adaptOptions() {\n        return [this.options.map(item => {\n          if (typeof item !== 'object') {\n            item = {\n              value: item,\n              text: item\n            }\n          }\n          return item\n        })]\n      },\n      valueIndex() {\n        const val = this.value\n        const index = findIndex(this.adaptOptions[0], (item) => {\n          return item.value === val\n        })\n        this.picker && this.picker.setData(this.adaptOptions, index !== -1 ? [index] : [0])\n\n        return index\n      },\n      selectedIndex() {\n        return this.valueIndex !== -1 ? [this.valueIndex] : [0]\n      },\n      selectedText() {\n        return this.valueIndex !== -1 ? this.adaptOptions[0][this.valueIndex].text : ''\n      },\n      _placeholder () {\n        return this.placeholder || this.$t('selectText')\n      },\n      _title () {\n        return this.title || this.$t('selectText')\n      },\n      _cancelTxt () {\n        return this.cancelTxt || this.$t('cancel')\n      },\n      _confirmTxt () {\n        return this.confirmTxt || this.$t('ok')\n      }\n    },\n    created() {\n      this.picker = this.$createPicker({\n        $props: {\n          title: '_title',\n          data: 'adaptOptions',\n          selectedIndex: 'selectedIndex',\n          cancelTxt: '_cancelTxt',\n          confirmTxt: '_confirmTxt'\n        },\n        $events: {\n          select: 'selectHandler',\n          cancel: this.hided\n        }\n      })\n      this.autoPop && this.showPicker()\n    },\n    methods: {\n      showPicker() {\n        if (this.disabled) {\n          return\n        }\n        this.picker.show()\n        this.active = true\n        this.$emit(EVENT_PICKER_SHOW)\n      },\n      hided() {\n        this.active = false\n        this.$emit(EVENT_PICKER_HIDE)\n      },\n      selectHandler(selectedVal, selectedIndex, selectedText) {\n        this.hided()\n        if (selectedVal[0] !== this.value) {\n          this.$emit(EVENT_INPUT, selectedVal[0])\n          this.$emit(EVENT_CHANGE, selectedVal[0], selectedIndex[0], selectedText[0])\n        }\n      }\n    }\n  }\n</script>\n<style lang=\"stylus\">\n  @require \"../../common/stylus/variable.styl\"\n  @require \"../../common/stylus/mixin.styl\"\n\n  .cube-select\n    position: relative\n    box-sizing: border-box\n    padding: 10px 20px 10px 10px\n    border-radius: 2px\n    font-size: $fontsize-medium\n    line-height: 1.429\n    color: $select-color\n    background-color: $select-bgc\n    border-1px($select-border-color, 2px)\n    > span\n      display: inline-block\n  .cube-select_active\n    border-1px($select-border-active-color)\n    .cube-select-icon\n      transform: translate(0, -50%) rotate(180deg)\n  .cube-select_disabled\n    color: $select-disabled-color\n    background-color: $select-disabled-bgc\n    cursor: not-allowed\n  .cube-select-placeholder\n    color: $select-placeholder-color\n  .cube-select-icon\n    position: absolute\n    right: 8px\n    top: 50%\n    transform: translate(0, -50%)\n    border-style: solid\n    border-color: $select-icon-color transparent transparent transparent\n    border-width: 4px 4px 0 4px\n    transition: transform .3s ease-in-out\n</style>\n"],"sourceRoot":"node_modules/cube-ui/src/components/select"}]}