{"remainingRequest":"/Users/leeco/Documents/vue-sell-cube/node_modules/babel-loader/lib/index.js!/Users/leeco/Documents/vue-sell-cube/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/leeco/Documents/vue-sell-cube/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/leeco/Documents/vue-sell-cube/node_modules/cube-ui/src/components/drawer/drawer-panel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/cube-ui/src/components/drawer/drawer-panel.vue","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leeco/Documents/vue-sell-cube/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport visibilityMixin from '../../common/mixins/visibility';\nimport CubeScroll from '../scroll/scroll.vue';\nimport CubeDrawerItem from './drawer-item.vue';\nvar COMPONENT_NAME = 'cube-drawer-panel';\nexport default {\n  name: COMPONENT_NAME,\n  mixins: [visibilityMixin],\n  props: {\n    data: {\n      type: Array,\n      default: function _default() {\n        /* istanbul ignore next */\n        return [];\n      }\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  },\n  computed: {\n    selectedIndex: function selectedIndex() {\n      var selectedIndex = this.$parent.selected[this.index];\n      return selectedIndex === undefined ? -1 : selectedIndex;\n    }\n  },\n  watch: {\n    data: function data() {\n      this.scrollToTop();\n    },\n    isVisible: function isVisible() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.refresh();\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.$parent.addPanel(this);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$parent.removePanel(this);\n  },\n  methods: {\n    refresh: function refresh() {\n      this.$refs.scroll.refresh();\n    },\n    scrollToTop: function scrollToTop() {\n      this.$refs.scroll.scroll && this.$refs.scroll.scroll.scrollTo(0, 0, 0);\n    },\n    itemClickHandler: function itemClickHandler(item, index) {\n      if (this.selectedIndex !== index) {\n        this.$parent.changeHandler(this.index, item, index);\n      }\n    }\n  },\n  components: {\n    CubeScroll: CubeScroll,\n    CubeDrawerItem: CubeDrawerItem\n  }\n};",{"version":3,"sources":["drawer-panel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA,OAAA,eAAA,MAAA,gCAAA;AACA,OAAA,UAAA,MAAA,sBAAA;AACA,OAAA,cAAA,MAAA,mBAAA;AAEA,IAAA,cAAA,GAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,MAAA,EAAA,CAAA,eAAA,CAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAFA,sBAEA;AACA;AACA,eAAA,EAAA;AACA;AALA,KADA;AAQA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,CAAA;AAFA;AARA,GAHA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,aAAA,GAAA,KAAA,OAAA,CAAA,QAAA,CAAA,KAAA,KAAA,CAAA;AACA,aAAA,aAAA,KAAA,SAAA,GAAA,CAAA,CAAA,GAAA,aAAA;AACA;AAJA,GAhBA;AAsBA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,WAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA;AACA,OAFA;AAGA;AARA,GAtBA;AAgCA,EAAA,OAhCA,qBAgCA;AACA,SAAA,OAAA,CAAA,QAAA,CAAA,IAAA;AACA,GAlCA;AAmCA,EAAA,aAnCA,2BAmCA;AACA,SAAA,OAAA,CAAA,WAAA,CAAA,IAAA;AACA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,OAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,MAAA,IAAA,KAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACA,KANA;AAOA,IAAA,gBAPA,4BAOA,IAPA,EAOA,KAPA,EAOA;AACA,UAAA,KAAA,aAAA,KAAA,KAAA,EAAA;AACA,aAAA,OAAA,CAAA,aAAA,CAAA,KAAA,KAAA,EAAA,IAAA,EAAA,KAAA;AACA;AACA;AAXA,GAtCA;AAmDA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,cAAA,EAAA;AAFA;AAnDA,CAAA","sourcesContent":["<template>\n  <transition name=\"cube-drawer-move\">\n    <div class=\"cube-drawer-panel\" v-show=\"isVisible\">\n      <div class=\"cube-drawer-scroll-wrapper\">\n        <cube-scroll ref=\"scroll\" :data=\"data\">\n          <ul class=\"cube-drawer-list\">\n            <slot>\n              <cube-drawer-item v-for=\"(item, i) in data\" :item=\"item\" :key=\"i\" :index=\"i\" />\n            </slot>\n          </ul>\n        </cube-scroll>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import visibilityMixin from '../../common/mixins/visibility'\n  import CubeScroll from '../scroll/scroll.vue'\n  import CubeDrawerItem from './drawer-item.vue'\n\n  const COMPONENT_NAME = 'cube-drawer-panel'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [visibilityMixin],\n    props: {\n      data: {\n        type: Array,\n        default() {\n          /* istanbul ignore next */\n          return []\n        }\n      },\n      index: {\n        type: Number,\n        default: -1\n      }\n    },\n    computed: {\n      selectedIndex() {\n        const selectedIndex = this.$parent.selected[this.index]\n        return selectedIndex === undefined ? -1 : selectedIndex\n      }\n    },\n    watch: {\n      data() {\n        this.scrollToTop()\n      },\n      isVisible() {\n        this.$nextTick(() => {\n          this.refresh()\n        })\n      }\n    },\n    mounted() {\n      this.$parent.addPanel(this)\n    },\n    beforeDestroy() {\n      this.$parent.removePanel(this)\n    },\n    methods: {\n      refresh() {\n        this.$refs.scroll.refresh()\n      },\n      scrollToTop() {\n        this.$refs.scroll.scroll && this.$refs.scroll.scroll.scrollTo(0, 0, 0)\n      },\n      itemClickHandler(item, index) {\n        if (this.selectedIndex !== index) {\n          this.$parent.changeHandler(this.index, item, index)\n        }\n      }\n    },\n    components: {\n      CubeScroll,\n      CubeDrawerItem\n    }\n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @require \"../../common/stylus/variable.styl\"\n  @require \"../../common/stylus/mixin.styl\"\n\n  .cube-drawer-panel\n    position: relative\n    z-index: 1\n    flex: 1\n    width: 170px\n    overflow: hidden\n    background-color: $drawer-panel-bgc\n    box-shadow: 0 1px 2px rgba(0, 0, 0, .2)\n    + .cube-drawer-panel\n      margin-left: -67px\n    &:first-child\n      box-shadow: none\n  .cube-drawer-scroll-wrapper // fix flex item height: 100% bug in android\n    position: absolute\n    top: 0\n    left: 0\n    width: 100%\n    height: 100%\n\n  .cube-drawer-move-enter, .cube-drawer-move-leave-to\n    transform: translate(67px, 0)\n  .cube-drawer-move-enter-active, .cube-drawer-move-leave-active\n    transition: transform .3s ease-in-out\n</style>\n"],"sourceRoot":"node_modules/cube-ui/src/components/drawer"}]}